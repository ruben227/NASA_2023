---
import ProjectCard from "./project-card.astro";

const response = await fetch(
  "https://techport.nasa.gov/api/projects?updatedSince=2023-09-01"
);
const projects = await response.json();
const ITEMS_PER_PAGE = 4;

// const projects = new Promise(() => Array.from({ length: ITEMS_PER_PAGE }).map(
//   async (_, index) => {
//     const response = await fetch(
//       `https://techport.nasa.gov/api/projects/${projectsList.projects[index].projectId}`
//     );
//     return await response.json();
//   }
// ));

---

<div class="1234">
{Array.from({length: ITEMS_PER_PAGE}).map((_, index) => <ProjectCard id={projects.projects[index].projectId} />)}
</div>
